{% extends 'base.html' %}

   {% block link %}
    <link rel="shortcut icon" href="{{ url_for('static', filename='images/tremplin.gif') }}"/>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/bootstrap.min.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/sign-in.css')}}" >
{% endblock link %}

{% block nav %}
<li> <a class="nav-link" href="{{ url_for('auth.register') }}">Inscription</a></li>
{% endblock %}


{% block header %}
  <h1>{% block title %}Connexion{% endblock %}</h1>
{% endblock %}

{% block content %}
<main class="form-signin w-120 mx-auto mt-0 bg-body-tertiary">
     <form  method="post">
        <img class="mb-4" src="{{ url_for('static', filename='images/tremplinColSmall.png') }}" alt="" width="72" height="57">
         {% if session['role'] %}
        <h1 class="h3 mb-3 fw-normal">Accès au site !</h1>
         {% elif session['roles'] %}
         <h1 class="h3 mb-3 fw-normal">Choix du rôle !</h1>
         <div class="my-4">
             <p>Veuillez choisir un rôle. Pour naviguer en tant qu'utilisateur ordinaire cliquez sur user puis sur
                 "Stations météo Tremplin" dans la barre de navigation.</p>
         <select name='role' class="form-select" aria-label="Default select example">
             <option selected>Choisissez votre profil d'accès</option>
             {% for role in roles %}
             <option value={{role}}>{{ role }}</option>
             {% endfor %}
         </select>
             <br/>
             <p>Authentification pour accéder au rôle privilégié</p>
             </div>
         {% endif %}
        <div class="form-floating">
          <input type="email" class="form-control" name="email" id="email" placeholder="name@example.com">
          <label for="email">Addresse mail</label>
        </div>
        <div class="form-floating">
          <input type="password" class="form-control" name="password" id="password" placeholder="Password">
          <label for="password">Mot de passe</label>
        </div>
        <div class="form-check text-start my-2">
          <input class="form-check-input" type="checkbox" value="remember-me" id="flexCheckDefault">
          <label class="form-check-label" for="flexCheckDefault"> rester connecté </label>
        </div>
        <button class="btn btn-primary w-100 py-2" type="submit" value="Log In">Se connecter</button>
        <p class="mt-5 mb-3 text-body-secondary">&copy; 2023</p>
      </form>
</main>
{% endblock %}